<div>
    <!-- <h2>{{portfolio?.name}}</h2>
    <p>{{portfolio?.description}}</p> -->
    <div class="container">
        <h3>Total value: {{totalValue.toFixed(2)}} EUR</h3>
        <form (ngSubmit)="updatePortfolio()" [formGroup]="form">
      
          <label for="name">Name:</label><br>
          <input formControlName="name" type="text" name="name"><br>
          <p class="error-msg" *ngIf="nameField.invalid && nameField.touched">Name is required</p>
    
          <label for="description">Description:</label><br>
          <input formControlName="description" type="text" name="description"><br>
          <p class="error-msg" *ngIf="descriptionField.invalid && descriptionField.touched">Description is required</p>
          <br>
          <button type="submit" [disabled]="form.invalid">Update portfolio</button>
      
        </form>
    </div>

    <div class="positions">
        <div *ngFor="let position of portfolio?.positions; let i = index">
            <app-position-details [position]="position" [coin]="coinSymbols[i]" [logo]="coinLogosUrl[i]"
             (updatePositionEvent)="updatePosition(position, $event)"
             (deletePositionEvent)="deletePosition($event)"
             (deletePositionUpdateEvent)="deletePositionUpdate(position, $event)"></app-position-details>
        </div>    
    </div>
    <br>
    <a [routerLink]="['/portfolios/']">Go back to portfolios</a>
</div>

<!-- 
<div>
    <h2>{{portfolio?.name}}</h2>
    <p>{{portfolio?.description}}</p>
    <div class="positions">
        <ul>
            <li *ngFor="let position of portfolio?.positions">
                <ul>
                    <li>Coin: {{position.coinId}}</li>
                    <li>Amount: {{position.amount}}</li>
                    <li>
                        <ul>
                            <li *ngFor="let update of position.updates">
                                {{update.timestamp}} | {{update.description}} | {{update.amount}}
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>    
    </div>
    <a [routerLink]="['/portfolios/']">Go back to portfolios</a>
</div> -->